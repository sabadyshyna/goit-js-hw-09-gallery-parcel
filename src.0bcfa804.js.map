{"version":3,"sources":["js/gallery-items.js","js/gallery.js","index.js"],"names":["preview","original","description","refs","galleryContainer","document","querySelector","modal","modalCloseBtn","modalImage","modalOverlay","galleryMarkup","createGalleryMarkup","galleryItems","elements","map","join","onOpenModal","evt","target","nodeName","preventDefault","classList","add","src","dataset","source","alt","window","addEventListener","onEscKeyPress","onArrowLeftPress","onArrowRightPress","onCloseModal","remove","removeEventListener","onOverlayClick","currentTarget","code","isArrLeftKey","sources","indexOfCurrentImg","indexOf","length","console","log","isArrRightKey","insertAdjacentHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACiHA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAhHf,IAAA,EAAA,EAAA,QAAA,uBAgHe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA9Gf,IAAMC,EAAO,CACXC,iBAAkBC,SAASC,cAAc,eACzCC,MAAOF,SAASC,cAAc,gBAC9BE,cAAeH,SAASC,cAAc,wCACtCG,WAAYJ,SAASC,cAAc,oBACnCI,aAAcL,SAASC,cAAc,uBAGjCK,EAAgBC,EAAoBC,EAAD,SAGzC,SAASD,EAAoBE,GACpBA,OAAAA,EACJC,IAAI,SAAwC,GAArCf,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAKnBD,MAAAA,gFAAAA,OAAAA,EAICD,+DAAAA,OAAAA,EACQC,0BAAAA,OAAAA,EACRC,kBAAAA,OAAAA,EAVP,oCAgBDc,KAAK,IAKV,SAASC,EAAYC,GACS,QAAxBA,EAAIC,OAAOC,WAGfF,EAAIG,iBAEJlB,EAAKI,MAAMe,UAAUC,IAAI,WACzBpB,EAAKM,WAAWe,IAAMN,EAAIC,OAAOM,QAAQC,OACzCvB,EAAKM,WAAWkB,IAAMT,EAAIC,OAAOQ,IAEjCC,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,GACnCH,OAAOC,iBAAiB,UAAWG,IAKrC,SAASC,IACP9B,EAAKI,MAAMe,UAAUY,OAAO,WAC5B/B,EAAKM,WAAWe,IAAM,GACtBrB,EAAKM,WAAWkB,IAAM,GACtBC,OAAOO,oBAAoB,UAAWL,GACtCF,OAAOO,oBAAoB,UAAWJ,GACtCH,OAAOO,oBAAoB,UAAWH,GAKxC,SAASI,EAAelB,GAClBA,EAAImB,gBAAkBnB,EAAIC,QAC5Bc,IAIJ,SAASH,EAAcZ,GACA,WACJA,EAAIoB,MAGnBL,IAIJ,SAASF,EAAiBb,GAIpBqB,GAHsB,cACLrB,EAAIoB,KAEP,CACVE,IAAAA,EAAU3B,EAAaE,QAAAA,IAAI,SAAA,GAAkBd,OAAfA,EAAAA,WAChCwC,EAAoBD,EAAQE,QAAQvC,EAAKM,WAAWe,KAE9B,IAAtBiB,IACFA,EAAoBD,EAAQG,QAE9BxC,EAAKM,WAAWe,IAAMgB,EAAQC,EAAoB,GAClDG,QAAQC,IAAIJ,IAIhB,SAAST,EAAkBd,GAIrB4B,GAHuB,eACL5B,EAAIoB,KAEP,CACXE,IAAAA,EAAU3B,EAAaE,QAAAA,IAAI,SAAA,GAAkBd,OAAfA,EAAAA,WAChCwC,EAAoBD,EAAQE,QAAQvC,EAAKM,WAAWe,KAEpDiB,EAAoB,EAAID,EAAQG,OAAS,IAC3CF,GAAqB,GAEvBtC,EAAKM,WAAWe,IAAMgB,EAAQC,EAAoB,GAClDG,QAAQC,IAAIJ,EAAoB,IAjGpCtC,EAAKC,iBAAiB2C,mBAAmB,YAAapC,GAwBtDR,EAAKC,iBAAiByB,iBAAiB,QAASZ,GAiBhDd,EAAKK,cAAcqB,iBAAiB,QAASI,GAW7C9B,EAAKO,aAAamB,iBAAiB,QAASO,GAiD7B,IAAA,EAAA,CAACjC,KAAAA,EAAMQ,cAAAA,EAAeC,oBAAAA,EAAqBK,YAAAA,EAAagB,aAAAA,EAAcG,eAAAA,EAAgBN,cAAAA,EAAeC,iBAAAA,EAAkBC,kBAAAA,GAAvH,QAAA,QAAA;;ACjHf,aAAA,IAAA,EAAA,EAAA,QAAA,iBAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA","file":"src.0bcfa804.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","\nimport galleryItems from './gallery-items.js';\n\nconst refs = {\n  galleryContainer: document.querySelector('.js-gallery'),\n  modal: document.querySelector('.js-lightbox'),\n  modalCloseBtn: document.querySelector('button[data-action=\"close-lightbox\"]'),\n  modalImage: document.querySelector('.lightbox__image'),\n  modalOverlay: document.querySelector('.lightbox__overlay'),\n};\n\nconst galleryMarkup = createGalleryMarkup(galleryItems);\nrefs.galleryContainer.insertAdjacentHTML('beforeend', galleryMarkup);\n\nfunction createGalleryMarkup(elements) {\n  return elements\n    .map(({ preview, original, description }) => {\n      return `\n    <li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>\n    `;\n    })\n    .join('');\n}\n\nrefs.galleryContainer.addEventListener('click', onOpenModal);\n\nfunction onOpenModal(evt) {\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n  evt.preventDefault();\n\n  refs.modal.classList.add('is-open');\n  refs.modalImage.src = evt.target.dataset.source;\n  refs.modalImage.alt = evt.target.alt;\n\n  window.addEventListener('keydown', onEscKeyPress);\n  window.addEventListener('keydown', onArrowLeftPress);\n  window.addEventListener('keydown', onArrowRightPress);\n}\n\nrefs.modalCloseBtn.addEventListener('click', onCloseModal);\n\nfunction onCloseModal() {\n  refs.modal.classList.remove('is-open');\n  refs.modalImage.src = '';\n  refs.modalImage.alt = '';\n  window.removeEventListener('keydown', onEscKeyPress);\n  window.removeEventListener('keydown', onArrowLeftPress);\n  window.removeEventListener('keydown', onArrowRightPress);\n}\n\nrefs.modalOverlay.addEventListener('click', onOverlayClick);\n\nfunction onOverlayClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(evt) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = evt.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n\nfunction onArrowLeftPress(evt) {\n  const ARR_LEFT_KEY_CODE = 'ArrowLeft';\n  const isArrLeftKey = evt.code === ARR_LEFT_KEY_CODE;\n\n  if (isArrLeftKey) {\n    const sources = galleryItems.map(({ original }) => original);\n    let indexOfCurrentImg = sources.indexOf(refs.modalImage.src);\n\n    if (indexOfCurrentImg === 0) {\n      indexOfCurrentImg = sources.length;\n    }\n    refs.modalImage.src = sources[indexOfCurrentImg - 1];\n    console.log(indexOfCurrentImg);\n  }\n}\n\nfunction onArrowRightPress(evt) {\n  const ARR_RIGHT_KEY_CODE = 'ArrowRight';\n  const isArrRightKey = evt.code === ARR_RIGHT_KEY_CODE;\n\n  if (isArrRightKey) {\n    const sources = galleryItems.map(({ original }) => original);\n    let indexOfCurrentImg = sources.indexOf(refs.modalImage.src);\n\n    if (indexOfCurrentImg + 1 > sources.length - 1) {\n      indexOfCurrentImg = -1;\n    }\n    refs.modalImage.src = sources[indexOfCurrentImg + 1];\n    console.log(indexOfCurrentImg + 1);\n  }\n}\n\nexport default {refs, galleryMarkup, createGalleryMarkup, onOpenModal, onCloseModal, onOverlayClick, onEscKeyPress, onArrowLeftPress, onArrowRightPress}","import gallery from './js/gallery';\n \n\n"]}